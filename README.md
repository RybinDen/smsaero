  SmsAero API
=========

Быстрая отправка sms-сообщений через API сервиса [SmsAero](http://smsaero.ru) для фреймворка Yii2

Использование
--------------
 - установка. Добавить в секцию require вашего файла composer.json строчку:
```
"rybinden/smsaero" : "dev-master"

```
- Обновить зависимости:
```
composer update
```
- настраиваем в вашем конфигурационном файле:

```php
'components' => [
'sms' => [
'class' => 'rybinden\smsaero\SmsAero',
'login' => 'Ваш_логин',
'password' => 'md5_вашего_пароля',
'sign' => 'Ваша_подпись',
'digital' => true, //установить true для установки цифровой подписи отправителя
 'json' => true, // установить true чтобы получать ответ в формате json
],
...
]
```

 - Пользуемся!

```php
    // Отправка сообщения
//первый параметр- номер получателя, начиная с 7
//второй - текст сообщения
// третий , гнеобязательный параметр время отложенной отправки(в unix), если не указан, смс отправляется сразу
 Yii::$app->sms->sendMessage(79999999999, 'Ваш текст сообщение');

    // Запрос на получение доступных подписей
     Yii::$app->sms->getSigns();

    // Получение баланса пользователя
     Yii::$app->sms->getBalance();

    // Получение статуса отправленного сообщения
     Yii::$app->sms->getStatus(2558711);

    // Запрос на получение новой подписи
     Yii::$app->sms->signRequest("newsign");
```
Все подробности об ответах API можно посмотреть в официальной документации [API SmsAero](http://smsaero.ru/api/description)
